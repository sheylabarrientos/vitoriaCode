package com.sheyla.mymovies.presentationimport androidx.appcompat.app.AppCompatActivityimport android.os.Bundleimport android.widget.Toastimport com.google.firebase.FirebaseNetworkExceptionimport com.google.firebase.auth.FirebaseAuthimport com.google.firebase.auth.FirebaseAuthUserCollisionExceptionimport com.google.firebase.auth.FirebaseAuthWeakPasswordExceptionimport com.sheyla.mymovies.Rimport com.sheyla.mymovies.databinding.ActivityFormSubscribeBindingclass FormSubscribe : AppCompatActivity() {    private lateinit var binding: ActivityFormSubscribeBinding    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        binding = ActivityFormSubscribeBinding.inflate(layoutInflater)        setContentView(binding.root)        supportActionBar!!.hide()        toolbar()        binding.btnSubscribe.setOnClickListener {            val email = binding.editEmail.text.toString()            val password = binding.editPassword.text.toString()            val message_error = binding.messageErrorSubscribe            if (email.isEmpty() || password.isEmpty()){                message_error.setText("Preencha todos os campos!")            }else{                subscribeUser()            }        }    }    private fun subscribeUser() {        val email = binding.editEmail.text.toString()        val password = binding.editPassword.text.toString()        val messageError = binding.messageErrorSubscribe        FirebaseAuth.getInstance().createUserWithEmailAndPassword(email, password)            .addOnCompleteListener() {                if (it.isSuccessful) {                    Toast.makeText(this, "Usuário cadastrado com sucesso!", Toast.LENGTH_SHORT).show()                    binding.editEmail.setText("")                    binding.editPassword.setText("")                    messageError.setText("")                }            }.addOnFailureListener {                var error = it                when {                    error is FirebaseAuthWeakPasswordException -> messageError.setText("Digite uma senha com no mínimo 6 caracteres")                    error is FirebaseAuthUserCollisionException -> messageError.setText("Esta conta já foi cadastrada")                    error is FirebaseNetworkException -> messageError.setText("Sem conexão com a internet")                    else -> messageError.setText("Erro ao cadastrar usuário")                }        }    }    private fun toolbar(){        val toolbar = binding.toolbarSubscribe        toolbar.setBackgroundColor(getColor(R.color.white))        toolbar.setSubtitleTextColor(getColor(R.color.greenPrimaryColor))        toolbar.navigationIcon = getDrawable(R.drawable.ic_jeraflyx_official_logo)    }}